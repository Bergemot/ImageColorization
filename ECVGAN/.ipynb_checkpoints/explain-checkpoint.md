## ECV_Generator.py
生成器模型的实现，包括：
- BaseColor类：该类是一个基类，包含了一些基本的彩色化操作函数，如对亮度（L通道）和色度（A、B通道）进行归一化和反归一化的函数。

- ECCVGenerator类：该类是一个彩色化生成器模型，继承自BaseColor类。该模型采用了ECCV16网络结构，并使用了标准的卷积、激活函数和批归一化层构建网络。具体来说，模型由8个卷积层和一个卷积转置层组成，其中包括了不同尺度和感受野的卷积操作。模型的输出是一个313通道的概率分布图。

- eccv16函数：该函数用于创建一个预训练的ECCVGenerator模型。在预训练模型加载时，使用了torch.utils.model_zoo.load_url函数从指定的URL地址下载模型权重。

- color_ecv类：该类是自定义的彩色化生成器模型，继承自nn.Module。在构造函数中，它创建了一个ECCVGenerator模型，并将其作为成员变量。在前向传播方法中，输入张量经过ECCVGenerator模型得到彩色化的输出。

## Discriminator.py
判别器模型的实现，采用了一系列的卷积层和批归一化层，并使用LeakyReLU作为激活函数。判别器的输入图像形状为(input_shape)，可以是任意大小的图像。判别器通过多次卷积和下采样操作，逐渐减小特征图的尺寸，并输出一个大小为1的特征图，用于表示输入图像的真实性。包括：
- 包含了5个卷积块。每个卷积块由两个卷积层、一个批归一化层和一个LeakyReLU激活函数组成
    第一个卷积块：输入图像的通道数为in_channels，输出通道数为64。
    第二个卷积块：输入通道数为64，输出通道数为128。
    第三个卷积块：输入通道数为128，输出通道数为256。
    第四个卷积块：输入通道数为256，输出通道数为512。
    第五个卷积块：输入通道数为512，输出通道数为1。

- 辅助函数discriminator_block，用于创建判别器中的卷积块。每个卷积块由一系列的卷积层、批归一化层和LeakyReLU组成。然后，根据输入图像的通道数，循环创建多个卷积块，并逐渐减小特征图的尺寸。最后，通过一个卷积层输出大小为1的特征图。

- 前向传播函数（forward）接受一个输入图像（img），并通过模型（self.model）进行计算，返回判别器的输出。

## Feature_extra.py
定义了一个名为**FeatureExtractor**的神经网络模型。该模型使用预训练的VGG19模型来提取图像的特征。
- 在模型的初始化方法__init__()中，首先创建了一个VGG19模型的实例vgg19_model，并加载了预训练的权重参数。然后，通过选择VGG19模型的前18层（卷积和池化层），创建了一个新的序列模型feature_extractor，用于提取图像的特征。

- 在前向传播方法forward()中，输入图像img被传递给feature_extractor模型，以提取图像的特征。最终，特征被返回作为模型的输出。

- 该FeatureExtractor模型可以用于将图像传递给VGG19模型的前18层，并获得这些层的输出作为图像的特征表示。

## util.py
图像处理函数，用于加载、调整大小和后处理图像，包括：
- load_img(img_path): 该函数用于加载图像文件，并将其转换为NumPy数组。如果图像是灰度图像（通道数为2维），则将其转换为3维的灰度图像。
- resize_img(img, HW=(256,256), resample=3): 该函数用于调整图像的大小。它接受一个图像数组和目标大小（默认为256x256），并返回调整大小后的图像数组。
- preprocess_img(img_rgb_orig, HW=(256,256), resample=3): 该函数用于对图像进行预处理，返回原始大小的L通道和调整大小后的L通道，作为PyTorch的Tensor。它首先调用resize_img函数将图像调整到指定大小，然后将RGB图像转换为Lab色彩空间，并提取L通道的值。
- postprocess_tens(tens_orig_l, out_ab, mode='bilinear'): 该函数用于将Tensor格式的L通道和生成的ab通道转换回RGB图像。它首先根据原始L通道的尺寸调整生成的ab通道的大小，然后将L通道和调整后的ab通道合并为Lab图像，并将其转换回RGB图像。
- postprocess_tens_new(tens_orig_l, out_ab, mode='bilinear'): 这是一个修改后的postprocess_tens函数，它支持批量处理多个图像。它接受大小为Batchsize的Tensor格式的L通道和生成的ab通道，并对每个图像进行后处理。它使用循环遍历每个图像，并对每个图像进行与postprocess_tens相同的后处理操作。最后，它返回一个NumPy数组，其中包含所有处理后的图像。